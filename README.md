# **GitPulse**

**GitPulse** — это удобный сервис, который уведомляет вас о новых релизах и предоставляет возможность быстро просматривать все последние обновления.

## **Технические требования**

Для использования нашего сервиса вам понадобятся следующие технологии и инструменты:

1. **Технологии**:
   - **MySQL**: Используется для хранения информации о репозиториях и релизах.
   - **REST API**: Сервис предоставляет RESTful API для взаимодействия с компонентами системы.

2. **Внешние сервисы**:
   - **GitHub API**: Используется для получения информации о новых релизах на GitHub.
   - **JavaMailSender**: Применяется для отправки email-уведомлений о новых релизах.
   - **Slack Webhook**: Используется для отправки уведомлений в Slack-канал.

## **Установка и настройка**

1. **Клонирование проекта**:
   - Откройте **IntelliJ IDEA** и создайте новый пустой проект.
   - Откройте терминал в IDE и выполните команду для клонирования репозитория:
     ```bash
     git clone -b firstBranch https://github.com/SultanHello/GitPulse.git
     ```

2. **Запуск всех сервисов**:
   - Убедитесь, что все необходимые сервисы запущены.

3. **Настройка конфигурации**:
   - Измените параметры в файлах `application.properties` для `ReleaseGitService` и `UserGitService`, указав данные для подключения к MySQL.

4. **Создание базы данных**:
   - В MySQL создайте базы данных, указанные в файлах `application.properties`, чтобы обеспечить правильную работу приложения.

## **Структура проекта**

Проект организован по стандартному принципу микросервисной архитектуры, где каждый компонент разделен на логические слои:

- **/src/main/java** — основной код проекта.
  - **Контроллеры** находятся в пакете `controller`. Здесь реализованы REST API, которые взаимодействуют с внешними сервисами и принимают запросы от пользователей.
  - **Сервисы** расположены в пакете `service`. Этот слой отвечает за бизнес-логику, такую как мониторинг релизов и отправка уведомлений.
  - **Репозитории** находятся в пакете `repository`. Здесь реализована работа с базой данных, включая сохранение информации о релизах и репозиториях.
  - **Конфигурации** находятся в пакете `config`. Здесь содержатся файлы с настройками для подключения к базам данных и внешним API:
    - **RestTemplate** — для настройки HTTP-запросов к внешним сервисам, таким как GitHub API.
    - **Spring Security** — для обеспечения безопасности и защиты приложения.
    - 
**Как работает отправка уведомлении**
В NotificationGitService есть RestApi где
1.Отправка уведомлении по Email
```bash
     POST http://localhost:9834/notification/email
```
С помощю JavaMailSender мы отправляем уведомление о новых релизах

2.Отправка уведомлении по Slack
```bash
     POST http://localhost:9834/notification/sendSlack
```
C использванием webhookUrl мы отправляем уведомление о новых релизах


## **Использование**

1. **Как запускать приложение**:
   - Откройте **IntelliJ IDEA**.
   - В левой части окна найдите вкладку **Services**.
   - В этой вкладке найдите и запустите все **Spring Boot** сервисы вашего проекта.
   - Убедитесь, что первым сервисом запущен **Eureka Server**, так как он необходим для работы всех остальных сервисов.

2. **Как работать с сервисом**:

   1. Зарегистрируйтесь, если вы новый пользователь. Если у вас уже есть аккаунт, залогиньтесь.
   
   - **POST** запрос для регистрации:
     ```bash
     POST http://localhost:9235/users/register
     ```
     Пример тела запроса:
     ```json
     {
       "email": "ваш email",
       "password": "ваш пароль",
       "gitUsername": "ваше имя пользователя на GitHub"
     }
     ```

   - **POST** запрос для логина:
     ```bash
     POST http://localhost:9235/users/login
     ```
     Пример тела запроса:
     ```json
     {
       "email": "ваш email",
       "password": "ваш пароль"
     }
     ```

   2. Запустите сервис для начала мониторинга GitHub-репозитория для уведомлений о новых релизах:
   
   - **GET** запрос для старта мониторинга:
     ```bash
     GET http://localhost:2452/app/start
     ```
     В параметре **Bearer token** нужно указать токен, который вы получили после регистрации или логина.
     Пример тела запроса:
     ```json
     {
       "webhookUrl": "ваш URL для уведомлений в Slack",
       "repoName": "название вашего репозитория",
       "gitHubUrl": "URL GitHub для безопасного использования API"
     }
     ```

3. Примеры взаимодействия с базой данных пользователей:

   - **GET** запрос для получения GitHub имени:
     ```bash
     GET http://localhost:9235/users/getGitUsername?token=ваш_токен
     ```
   - **GET** запрос для получения email:
     ```bash
     GET http://localhost:9235/users/getEmail
     ```
     В параметре **Bearer token** нужно указать токен, который вы получили после регистрации или логина.

4. Примеры взаимодействия с базой данных релизов:

   - **GET** запрос для получения названий репозиториев:
     ```bash
     GET http://localhost:5743/releases/getRepos
     ```
     В параметре **Bearer token** нужно указать токен.

   - **GET** запрос для получения релизов определенного репозитория:
     ```bash
     GET http://localhost:5743/releases/getReposReleases/имя_вашего_репозитория
     ```
     В параметре **Bearer token** нужно указать токен.

## ****


  
        
            
            

